import{u as x,c as j,r,j as e,L as b,l as w}from"./index-D3DWexQO.js";function N(){const i=x(),u=j(),[n,d]=r.useState(""),[o,m]=r.useState(""),[p,l]=r.useState(!1),[h,a]=r.useState(""),c=function(){a("")},g=async function(t){if(t.preventDefault(),l(!0),n.trim()==""||o.trim()==""){a("Please enter your email and password"),l(!1);return}const f={password:n,email:o};try{const s=await w(f);s.error?a(s.error):(i.setLoggedIn(!0),i.setUserData(s.data),u({to:"/"}))}catch(s){s.response&&s.response.data.error?a(s.response.data.error):console.log(s)}finally{l(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"main margin-top-xl",children:[e.jsx("h1",{children:"Login"}),e.jsxs("form",{className:"new-post-form",onSubmit:g,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:o,onChange:function(t){m(t.target.value),c()}}),e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:n,onChange:function(t){d(t.target.value),c()}}),e.jsx("button",{className:"button margin-top",disabled:p,children:"LOGIN"}),e.jsx(b,{to:"/register",className:"blue underline center",children:"Create new account"}),e.jsx("p",{className:"error",children:h})]})]})})}export{N as component};
