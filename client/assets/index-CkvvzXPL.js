import{j as e,L as u,r as d,R as j,a as x}from"./index-6LOgL6T7.js";import{t as p}from"./tools-CL2bdpNQ.js";const g=function({post:t,link:l}){return e.jsx(e.Fragment,{children:e.jsxs(u,{to:l,className:"post",children:[e.jsx("div",{className:"post-card-img-thumbnail",children:t.img?.url?e.jsx("img",{src:t.img.url,alt:t.title,className:"postcard-img"}):e.jsx("div",{className:"post-card-img-placeholder",children:"ðŸ“„"})}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsxs("span",{className:"post-username black",children:[t.author.username," - ",t.junk?.creator?t.junk?.creator+" -":""]}),e.jsxs("span",{className:"post-time",children:[" ",t.createdAt?p(t.createdAt):""]})]}),e.jsx("h4",{children:t.title}),e.jsx("div",{className:"tags-container",children:t.tags?.length>0?t.tags.map((i,r)=>e.jsx("span",{className:"post-card-tags",children:i},t._id+r)):""})]})]},t._id)})};function N(){const[t,l]=d.useState([]),[i,r]=d.useState([]),o=function(s){const n=t.filter(a=>!!a.title.toLowerCase().includes(s.target.value.toLowerCase()));r(n)},m=s=>{const n=[...i];s.target.value==="commented"&&n.sort((a,c)=>new Date(c.updatedAt).getTime()-new Date(a.updatedAt).getTime()),s.target.value==="oldest"&&n.sort((a,c)=>new Date(a.createdAt).getTime()-new Date(c.createdAt).getTime()),s.target.value==="latest"&&n.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),r(n)},h=async function(){const s=await x();l(s),r(s)};return d.useEffect(()=>{h()},[]),e.jsxs("div",{className:"main",children:[e.jsx("h1",{className:"f40",children:"Full Stack"}),e.jsx("p",{className:"center f16",children:"React | TypeScript | Node | MongoDB | JWT"}),e.jsxs("div",{className:"search-container",children:[e.jsx("input",{className:"search-input",placeholder:"search",onChange:function(s){o(s)}}),e.jsxs("select",{className:"filter-select",onChange:function(s){m(s)},children:[e.jsx("option",{value:"latest",children:"Latest"}),e.jsx("option",{value:"oldest",children:"Oldest"}),e.jsx("option",{value:"commented",children:"Last commented"})]})]}),e.jsxs("div",{className:"posts-list-column",children:[t.length===0?e.jsxs("div",{className:"center margin-top",children:[e.jsx("p",{children:"Loading data...."}),e.jsx("p",{children:"Free tier server sleeps from inactivity."}),e.jsx("p",{children:"May take a few minutes."})]}):"",i.map(s=>e.jsxs(j.Fragment,{children:[e.jsx(g,{post:s,link:"./posts/"+s._id},s._id),e.jsx("div",{className:"horizontal-line"})]},s._id))]})]})}export{N as component};
